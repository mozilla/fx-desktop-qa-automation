---
transforms:
  - fx_desktop_qa_automation_taskgraph.transforms.lint:transforms

task-defaults:
  worker-type: t-linux-wayland
  worker:
    max-run-time: 1800

tasks:
  linux:
    worker:
      env:
        PATH: /builds/worker/.local/bin:/root/.local/bin:/root/.local/bin/firefox/$PATH
    run:
      using: run-task
      cwd: "{checkout}"
      command: |-
        echo "linting..."
        pip3 install 'ruff>=0.4.8,<0.5'
        mv ./dev_pyproject.toml ./pyproject.toml;
        ruff format .;
        ruff check --fix .;
